[[create-an-app-using-s2i]]
Create an App using Source to Image


In this exercise we will learn how to create an application on OpenShift Container Platform
via S2I. OpenShift takes your source code as an input and generates your
application container image for you.

*Step 1: Add a new project from command line*

IMPORTANT: Please replace *userxx* with your username

- login to web UI via {{CONSOLE_ADDRESS}}
- Use the same username and password that assigned to you
- Click `Create Project`

image::new-project.png[image]

- Enter `s2i-*userxx*` as project name (all lower case)

image::new-project-details.png[image]

- Click `Create`
- Click onto the newly created project


*Step 2: Create an application*

- Click `Browse Catalog`
- Enter `PHP` in the top search field
- Select `PHP`
- Click `Next`
- Enter name as `blue`
- Enter Git Repository URL as https://github.com/RedHatWorkshops/bluegreen

image::blue.png[image]

- Click `advanced options` link below to expand the options area
- Scroll down to `Deployment Configuration` session
- Add `COLOR` as key and `blue` as value
- Click `Create`
- Click `Continue to the project overview`



*Step 4: Monitor the application build*

- Click `Builds` --> `Builds`
- Click onto `#1`
- Click `Logs` tab


  Once the build finishes you should see something similar to:

  ...
  Pushing image docker-registry.default.svc:5000/guide/blue:latest ...
  Pushed 0/6 layers, 2% complete
  Pushed 1/6 layers, 27% complete
  Pushed 2/6 layers, 40% complete
  Pushed 3/6 layers, 53% complete
  Pushed 4/6 layers, 73% complete
  Pushed 4/6 layers, 92% complete
  Pushed 5/6 layers, 97% complete
  Pushed 6/6 layers, 100% complete
  Push successful
  ...

*Step 5: Check application deployment status*

- Click `Applications` --> `Pods`
- Pods `blue` shows `Running` Status

Notice that the build pod has Completed and you now have a single instance
of the application running under one single pod.

This application displays a blue square.

*Step 6: List the service*

- Click `Applications` --> `Services` to view all services


*Step 8: Test the application*

- Click `Overview`
- Click route link on the top right on the screen
